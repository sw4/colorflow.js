colorflow=function(){return{hex2rgb:function(a){var b,c;a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,c){return a+a+b+b+c+c});b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);a=parseInt(b[1],16);c=parseInt(b[2],16);b=parseInt(b[3],16);return[a,c,b]},hex2hsv:function(a){return this.rgb2hsv(this.hex2rgb(a))},rgb2hex:function(a){var b="",c,d;for(d=0;d<a.length;d+=1)c=a[d],c=c.toString(16),c=1===c.length?"0"+c:c,b+=c;return"#"+b},rgb2hsv:function(a){var b=a[0],c=a[1];a=a[2];var d=Math.min(b, c,a),f=Math.max(b,c,a),e=f-d,j=f,j=Math.floor(100*(f/255));if(0!==f)d=Math.floor(100*(e/f));else return[0,0,0];b=Math.floor(60*(b===f?(c-a)/e:c===f?2+(a-b)/e:4+(b-c)/e));0>b&&(b+=360);return[b,d,j]},hsv2hex:function(a){return this.rgb2hex(this.hsv2rgb(a))},hsv2rgb:function(a){var b,c,d,f,e,j,h;e=a[0];h=a[1];var g=a[2];e=Math.max(0,Math.min(360,e));h=Math.max(0,Math.min(100,h));g=Math.max(0,Math.min(100,g));h/=100;g/=100;if(0===h)return b=c=d=g,[Math.round(255*b),Math.round(255*c),Math.round(255*d)]; e/=60;a=Math.floor(e);f=e-a;e=g*(1-h);j=g*(1-h*f);h=g*(1-h*(1-f));switch(a){case 0:b=g;c=h;d=e;break;case 1:b=j;c=g;d=e;break;case 2:b=e;c=g;d=h;break;case 3:b=e;c=j;d=g;break;case 4:b=h;c=e;d=g;break;case 5:b=g,c=e,d=j}b=Math.round(255*b);c=Math.round(255*c);d=Math.round(255*d);return[b,c,d]},random:function(a){var b=[],c;a="number"!==typeof a?1:a;for(c=0;c<a;c+=1)b.push("#"+Math.floor(16777215*Math.random()).toString(16));return b},complement:function(a,b){var c=1,d=180,f=0;switch(b){case "split":c= 3;f=d=180;break;case "double":c=5,f=d=180}return this.rotational_dispersion(a,c,"hue",f,d)},triadic:function(a){return this.rotational_dispersion(a,3,"hue",360,0)},tetradic:function(a){return this.rotational_dispersion(a,4,"hue",360,0)},pentadic:function(a){return this.rotational_dispersion(a,5,"hue",360,0)},rotational_dispersion:function(a,b,c,d,f){b="number"!==typeof b?3:b;c="string"!==typeof c?3:c;d="number"!==typeof d?360:d;f="number"!==typeof f?0:f;var e=this.hex2hsv(a);a=e[0];var j=e[1],e=e[2], h,g=[],k;h="hue"===c&&(360===d||0===d)?d/b:d/(b-1);d=360===d?0:this.degrees(this.degrees(a,f),-1*d/2);for(k=0;k<b;k+=1)switch(f=h*k,c){case "hue":g.push(this.hsv2hex([this.degrees(d,f,360),j,e]));break;case "saturation":g.push(this.hsv2hex([a,f,e]));break;case "value":case "lightness":case "brightness":g.push(this.hsv2hex([a,j,f]))}return g},degrees:function(a,b){a+=b;360<a?a-=360:0>a&&(a+=360);return a}}}();
